function OnBind(self)	local attr = self:GetAttribute()	attr.top = 0endfunction SetSel(self,value)	local bkg = self:GetControlObject("background")	if not bkg then return end	if value then		bkg:SetResID("texture.tasklist.select_item.bk")	else		bkg:SetResID("texture.tasklist.item.bk")		endendfunction List_GetSel(self)	local attr = self:GetAttribute()	return attr.selitemendfunction List_SetSel(self,item)	local attr = self:GetAttribute()	if attr.selitem then		attr.selitem:SetSel(false)	end	attr.selitem = item	item:SetSel(true)	self:FireExtEvent("OnSelectChanged")endfunction InsertItem(self, obj)	local attr = self:GetAttribute()	local content = self:GetControlObject("content")	content:AddChild(obj)	local left,top,right,bottom = content:GetObjPos()	local obj_left,obj_top,obj_right,obj_bottom = obj:GetObjPos()	local obj_height = obj_bottom - obj_top	obj:SetObjPos(0, attr.ValidHeight, right-left, attr.ValidHeight+obj_height)	attr.ValidHeight = attr.ValidHeight+obj_height		OnPosChange(self)endfunction SetAdjust(self)	local attr = self:GetAttribute()	local top1 = attr.top	local content = self:GetControlObject("content")	local left,top,right,bottom = content:GetObjPos()	local cnt = content:GetChildCount()-1	for i=0,cnt do		local item = content:GetChildByIndex(i)		local l,t,r,b = item:GetObjPos()		local height = b-t		item:SetObjPos(0, top1, right-left,top1+height)		top1 = top1 + height	endendfunction DeleteAllItems(self)	local content = self:GetControlObject("content")	for i=content:GetChildCount()-1,0,-1 do		content:RemoveChild(content:GetChildByIndex(i))	endendfunction MouseWheel(self, distance)	local content = self:GetControlObject("content")	local left,top,right,bottom = content:GetObjPos()	local height = bottom - top	local attr = self:GetAttribute()	local top1 = attr.top	if distance > 0 then		top1 = top1 + 30	elseif distance < 0 then		top1 = top1 - 30	end	local cnt = content:GetChildCount()	if height - (cnt*30 + top1) < 0 then		attr.top = top1	else		attr.top = height - (cnt*30 + top1) + attr.top - 30			end	if attr.top > 0 then attr.top = 0 end	self:SetAdjust()	local vscroll = self:GetControlObject("vscroll")	vscroll:SetScrollPos(-attr.top, true)endfunction OnMouseWheel(self, x, y, distance)	self:GetOwnerControl():MouseWheel(distance)endfunction UpdateScroll(self)	local content = self:GetControlObject("content")	local left,top,right,bottom = content:GetObjPos()	local height = bottom - top	local vscroll = self:GetControlObject("vscroll")	vscroll:SetPageSize(height)	local cnt = content:GetChildCount()	local attr = self:GetAttribute()	local range = attr.ValidHeight - height	if range < 0 then		vscroll:SetVisible(false)		vscroll:SetChildrenVisible(false)		range = 0	else		vscroll:SetVisible(true)		vscroll:SetChildrenVisible(true)	end	vscroll:SetScrollRange(0, attr.ValidHeight)	vscroll:SetScrollPos(0, true)endfunction OnPosChange(self)	local attr = self:GetAttribute()	local content = self:GetControlObject("content")	local left,top,right,bottom = content:GetObjPos()	local height = bottom - top	local cnt = content:GetChildCount()	if height >= attr.ValidHeight then attr.top = 0 self:SetAdjust() end	self:UpdateScroll()end

function OnScrollPosChange(self)
	local owner = self:GetOwnerControl()	local attr = owner:GetAttribute()		attr.top = -self:GetScrollPos()	owner:SetAdjust()	
end